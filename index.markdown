---
# Feel free to add content and custom Front Matter to this file.
# To modify the layout, see https://jekyllrb.com/docs/themes/#overriding-theme-defaults

layout: home
---

## Abstract

Note-level automatic music transcription is one of the most representative music information retrieval (MIR) tasks and has been studied for various instruments to understand music. However, due to the lack of high-quality labeled data, transcription of many instruments is still a challenging task. In particular, in the case of singing, it is difficult to find accurate notes due to its expressiveness in pitch, timbre, and dynamics. In this paper, we propose a method of finding note onsets of singing voice more accurately by leveraging the linguistic characteristics of singing, which are not seen in other instruments. The proposed model uses mel-scaled spectrogram and phonetic posteriorgram (PPG), a frame-wise likelihood of phoneme, as an input of the onset detection network while PPG is generated by the pre-trained network with singing and speech data. To verify how linguistic features affect onset detection, we compare the evaluation results through the dataset with different languages and divide onset types for detailed analysis. Our approach substantially improves the performance of singing transcription and therefore emphasizes the importance of linguistic features in singing analysis.

![phoneme_example](resources/phoneme_example.png){:style="display:block; margin:auto; width:50%; height:50%"}
**Figure 1.** An example of singing voice: mel-spectrogram (top), piano roll with onsets and pitches of notes (middle), and phonetic posteriorgram (PPG) (bottom) from singing (phonemes with probability under 0.5 in this example were omitted).

## Model Architecture

![model_architecture](resources/model_architecture.png){:style="display:block; margin:auto; width:60%; height:60%"}
**Figure 2.** The proposed model architecture

## Evaluation

### Ablation Study

![ablation_study](resources/ablation_study.png)
**Table 1.** Onset/Offset detection results from various neural network architectures with two input features.

We conducted an ablation study to see the effect of input features and model architectures. The proposed model shown in Figure 2 corresponds to "Dual CRNNs + one RNN" in (g). We first compare it to a single CRNN model with only one type of features (either mel spectrogram in (a) or PPG in (c)). Considering that the model architecture can affect the performance, we also compared the proposed model to the same "Dual CRNNs + one RNN" but with one type of input features for both inputs (either mel spectrogram in (b) or PPG in (d)). Given the proposed model, we also removed the RNN module in each CRNN branch in (e), and then stacked another RNN module on top of (e) in (f).

![onset_type_analysis](resources/onset_type_analysis.png){:style="display:block; margin:auto; width:50%; height:50%"}
**Figure 3.** Transition and re-onset recall of the models in the ablation study on ISMIR2014. The red triangle is the model with mel-spectrogram, the blue square is the model with PPG, and the green circle is the model with both features.

We further investigated the effect of the input features by looking into the recall accuracy for two special types of onsets: re-onset and transition. They are note onsets which have 20 ms or less apart from the offset of the previous note. The difference between the two types is whether the pitch changes (transition) or not (re-onset). The models with mel-spectrogram (in red) tend to detect more transitions, indicating that it is more sensitive to pitch change. On the other hand, the models with PPG (in blue) tend to detect more re-onsets, showing that it captures phonetic changes well. Lastly, the models with both features have more balanced accuracy in both transition and re-onset.

## Demo Examples with Visualized Features

In the plot, the first two subplots are mel-spectrogram and PPG with softmax each. The third subplot is the ground truth piano roll. The fourth, fifth, and sixth subplots are the raw prediction of the network with mel-spectrogram ((b) in Table 1), PPG ((d) in Table 1), and both features ((g) in Table 1). In the raw prediction plots, red lines indicate the onset, blue lines indicate the offset, and green lines indicate the activation. Red and blue vertical dashed lines indicate the ground truth onset and offset, respectively, and the black dashed horizontal lines indicate the threshold for onsets and offsets.

### Examples with Transition Notes

![transition_1](resources/example_plot/transition/1.png){:style="display:block; margin:auto; width:80%; height:80%"}

{% include embed-audio.html src="/resources/example_audio/transition/1_gt.mp3" %}
{% include embed-audio.html src="/resources/example_audio/transition/1_mel.mp3" %}
{% include embed-audio.html src="/resources/example_audio/transition/1_phn.mp3" %}
{% include embed-audio.html src="/resources/example_audio/transition/1_comb.mp3" %}

![transition_2](resources/example_plot/transition/2.png){:style="display:block; margin:auto; width:80%; height:80%"}

{% include embed-audio.html src="/resources/example_audio/transition/2_gt.mp3" %}
{% include embed-audio.html src="/resources/example_audio/transition/2_mel.mp3" %}
{% include embed-audio.html src="/resources/example_audio/transition/2_phn.mp3" %}
{% include embed-audio.html src="/resources/example_audio/transition/2_comb.mp3" %}

### Examples with Re-Onset Notes

![reonset_1](resources/example_plot/reonset/1.png){:style="display:block; margin:auto; width:80%; height:80%"}

{% include embed-audio.html src="/resources/example_audio/reonset/1_gt.mp3" %}
{% include embed-audio.html src="/resources/example_audio/reonset/1_mel.mp3" %}
{% include embed-audio.html src="/resources/example_audio/reonset/1_phn.mp3" %}
{% include embed-audio.html src="/resources/example_audio/reonset/1_comb.mp3" %}

![reonset_2](resources/example_plot/reonset/1.png){:style="display:block; margin:auto; width:80%; height:80%"}

{% include embed-audio.html src="/resources/example_audio/reonset/2_gt.mp3" %}
{% include embed-audio.html src="/resources/example_audio/reonset/2_mel.mp3" %}
{% include embed-audio.html src="/resources/example_audio/reonset/2_phn.mp3" %}
{% include embed-audio.html src="/resources/example_audio/reonset/2_comb.mp3" %}
